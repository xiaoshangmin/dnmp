## 开始执行... 2023-05-28 02:03:50

开始更新仓库：/ql/repo/RayWangQvQ_BiliBiliToolPro

Fetching origin
HEAD is now at 11f2915 chore: update
Updating 11f2915..643bfc1
Fast-forward
 .github/workflows/auto-deploy-tencent-scf.yml      |  12 +-
 .github/workflows/tag.yml                          |  32 +++
 .gitignore                                         |   1 +
 CHANGELOG.md                                       |   5 +-
 Dockerfile                                         |  11 -
 README.md                                          |   2 +-
 Ray.BiliBiliTool.sln                               |  89 +------
 common.props                                       |   2 +-
 docs/configuration.md                              |   2 +-
 krew/Makefile                                      |  11 +-
 krew/README.md                                     |  14 +-
 krew/cmd/kubectl-bilipro.go                        |   3 +
 krew/config.yaml                                   |   2 +-
 krew/go.mod                                        |  33 ++-
 krew/go.sum                                        |  62 ++---
 krew/pkg/cmd/delete.go                             |  71 ++---
 krew/pkg/cmd/get.go                                |  34 +--
 krew/pkg/cmd/init.go                               | 106 ++++----
 krew/pkg/cmd/version.go                            |   2 +-
 .../pkg/resources/base/bilibiliPro/deployment.yaml |  10 +-
 krew/pkg/utils/client.go                           |  71 +++++
 krew/pkg/utils/client_test.go                      |  19 ++
 krew/pkg/utils/cmd.go                              |  38 +++
 krew/pkg/utils/cmd_test.go                         |  17 ++
 krew/pkg/utils/error.go                            |  22 ++
 krew/pkg/utils/error_test.go                       |  38 +++
 krew/pkg/utils/{utils.go => fileSys.go}            |  23 +-
 krew/pkg/utils/fileSys_test.go                     |  88 +++++++
 .../BiliBiliAgent/Dtos/UserInfo.cs                 |  31 ++-
 .../Dtos/Video/SearchVideosByUpIdFullDto.cs        |  47 ++++
 .../BiliBiliAgent/Interfaces/IVideoApi.cs          |   7 +-
 .../Ray.BiliBiliTool.Agent.csproj                  |   2 +-
 .../VipBigPointAppService.cs                       |  22 +-
 .../Ray.BiliBiliTool.Config.csproj                 |   2 +-
 .../Ray.BiliBiliTool.Console.csproj                |  23 +-
 .../AccountDomainService.cs                        |   2 +-
 .../ChargeDomainService.cs                         |   2 +-
 .../Interfaces/IWbiDomainService.cs                |  24 ++
 .../LoginDomainService.cs                          |  16 +-
 .../VideoDomainService.cs                          |  44 +++-
 .../WbiDomainService.cs                            | 162 ++++++++++++
 .../Extensions/DateTimeExtension.cs                |  44 ----
 .../Extensions/ObjectExtensions.cs                 | 293 ---------------------
 .../Extensions/StringExtensions.cs                 |  19 --
 .../Helpers/ObjectHelper.cs                        |  33 +++
 .../Helpers/TimeStampHelper.cs                     |  56 ----
 .../Ray.BiliBiliTool.Infrastructure.csproj         |   2 +-
 .../Ray.Serilog.Sinks.Batched/BatchedSink.cs       | 196 --------------
 .../BoundedConcurrentQueue.cs                      |  80 ------
 .../Ray.Serilog.Sinks.Batched/Constants.cs         |  16 --
 .../Ray.Serilog.Sinks.Batched/PushService.cs       |  53 ----
 .../Ray.Serilog.Sinks.Batched.csproj               |  11 -
 .../CoolPushApiClient.cs                           |  41 ---
 .../CoolPushBatchedSink.cs                         |  35 ---
 .../CoolPushLoggerConfigurationExtensions.cs       |  26 --
 .../Ray.Serilog.Sinks.CoolPushBatched.csproj       |  12 -
 .../DingTalkApiClient.cs                           |  97 -------
 .../DingTalkBatchedSink.cs                         |  36 ---
 .../DingTalkLoggerConfigurationExtensions.cs       |  27 --
 .../Ray.Serilog.Sinks.DingTalkBatched.csproj       |  12 -
 .../GotifyApiClient.cs                             |  46 ----
 .../GotifyBatchedSink.cs                           |  39 ---
 .../GotifyConfigurationExtensions.cs               |  41 ---
 .../Ray.Serilog.Sinks.GotifyBatched.csproj         |  14 -
 .../MicrosoftTeamsApiClient.cs                     |  37 ---
 .../MicrosoftTeamsBatchedSink.cs                   |  37 ---
 .../MicrosoftTeamsConfigurationExtensions.cs       |  39 ---
 .../Ray.Serilog.Sinks.MicrosoftTeamsBatched.csproj |  13 -
 .../OtherApiBatchedSink.cs                         |  45 ----
 .../OtherApiClient.cs                              |  40 ---
 .../OtherApiLoggerConfigurationExtensions.cs       |  32 ---
 .../Ray.Serilog.Sinks.OtherApiBatched.csproj       |  12 -
 .../PushPlusApiClient.cs                           |  95 -------
 .../PushPlusBatchedSink.cs                         |  50 ----
 .../PushPlusLoggerConfigurationExtensions.cs       |  46 ----
 .../Ray.Serilog.Sinks.PushPlusBatched.csproj       |  12 -
 .../Ray.Serilog.Sinks.ServerChanBatched.csproj     |  16 --
 .../ServerChanApiClient.cs                         |  52 ----
 .../ServerChanBatchedSink.cs                       |  46 ----
 .../ServerChanLoggerConfigurationExtensions.cs     |  27 --
 .../ServerChanTurboApiClient.cs                    |  45 ----
 .../Ray.Serilog.Sinks.TelegramBatched.csproj       |  16 --
 .../TelegramApiClient.cs                           | 122 ---------
 .../TelegramBatchedSink.cs                         |  50 ----
 .../TelegramLoggerConfigurationExtensions.cs       |  29 --
 .../Ray.Serilog.Sinks.WorkWeiXinAppBatched.csproj  |  13 -
 .../WorkWeiXinAppApiClient.cs                      |  92 -------
 .../WorkWeiXinAppBatchedSink.cs                    |  59 -----
 .../WorkWeiXinAppConfigurationExtensions.cs        |  50 ----
 .../WorkWeiXinAppTokenResponse.cs                  |  19 --
 .../Ray.Serilog.Sinks.WorkWeiXinBatched.csproj     |  16 --
 .../WorkWeiXinApiClient.cs                         |  67 -----
 .../WorkWeiXinBatchedSink.cs                       |  36 ---
 .../WorkWeiXinLoggerConfigurationExtensions.cs     |  27 --
 test/ConfigTest/TestDonateCoinStatusConfig.cs      |   2 +-
 test/ConfigTest/TestExpConfig.cs                   |   2 +-
 test/ConfigTest/UnitTest1.cs                       |   8 +-
 test/DomainServiceTest/VideoDomainServiceTest.cs   |  34 +++
 test/DomainServiceTest/WbiDomainServiceTest.cs     |  73 +++++
 test/InfrastructureTest/InfrastructureTest.csproj  |  25 ++
 test/InfrastructureTest/Usings.cs                  |   1 +
 test/InfrastructureTest/WbiHelperTest.cs           |  21 ++
 test/LogTest/LogTest.csproj                        |   1 -
 103 files changed, 1050 insertions(+), 2790 deletions(-)
 create mode 100644 .github/workflows/tag.yml
 create mode 100644 krew/pkg/utils/client.go
 create mode 100644 krew/pkg/utils/client_test.go
 create mode 100644 krew/pkg/utils/cmd.go
 create mode 100644 krew/pkg/utils/cmd_test.go
 create mode 100644 krew/pkg/utils/error.go
 create mode 100644 krew/pkg/utils/error_test.go
 rename krew/pkg/utils/{utils.go => fileSys.go} (77%)
 create mode 100644 krew/pkg/utils/fileSys_test.go
 create mode 100644 src/Ray.BiliBiliTool.Agent/BiliBiliAgent/Dtos/Video/SearchVideosByUpIdFullDto.cs
 create mode 100644 src/Ray.BiliBiliTool.DomainService/Interfaces/IWbiDomainService.cs
 create mode 100644 src/Ray.BiliBiliTool.DomainService/WbiDomainService.cs
 delete mode 100644 src/Ray.BiliBiliTool.Infrastructure/Extensions/DateTimeExtension.cs
 delete mode 100644 src/Ray.BiliBiliTool.Infrastructure/Extensions/ObjectExtensions.cs
 delete mode 100644 src/Ray.BiliBiliTool.Infrastructure/Extensions/StringExtensions.cs
 create mode 100644 src/Ray.BiliBiliTool.Infrastructure/Helpers/ObjectHelper.cs
 delete mode 100644 src/Ray.BiliBiliTool.Infrastructure/Helpers/TimeStampHelper.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.Batched/BatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.Batched/BoundedConcurrentQueue.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.Batched/Constants.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.Batched/PushService.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.Batched/Ray.Serilog.Sinks.Batched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.CoolPushBatched/CoolPushApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.CoolPushBatched/CoolPushBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.CoolPushBatched/CoolPushLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.CoolPushBatched/Ray.Serilog.Sinks.CoolPushBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.DingTalkBatched/DingTalkApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.DingTalkBatched/DingTalkBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.DingTalkBatched/DingTalkLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.DingTalkBatched/Ray.Serilog.Sinks.DingTalkBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.GotifyBatched/GotifyApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.GotifyBatched/GotifyBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.GotifyBatched/GotifyConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.GotifyBatched/Ray.Serilog.Sinks.GotifyBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.MicrosoftTeamsBatched/MicrosoftTeamsApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.MicrosoftTeamsBatched/MicrosoftTeamsBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.MicrosoftTeamsBatched/MicrosoftTeamsConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.MicrosoftTeamsBatched/Ray.Serilog.Sinks.MicrosoftTeamsBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.OtherApiBatched/OtherApiBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.OtherApiBatched/OtherApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.OtherApiBatched/OtherApiLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.OtherApiBatched/Ray.Serilog.Sinks.OtherApiBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.PushPlusBatched/PushPlusApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.PushPlusBatched/PushPlusBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.PushPlusBatched/PushPlusLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.PushPlusBatched/Ray.Serilog.Sinks.PushPlusBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.ServerChanBatched/Ray.Serilog.Sinks.ServerChanBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.ServerChanBatched/ServerChanApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.ServerChanBatched/ServerChanBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.ServerChanBatched/ServerChanLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.ServerChanBatched/ServerChanTurboApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.TelegramBatched/Ray.Serilog.Sinks.TelegramBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.TelegramBatched/TelegramApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.TelegramBatched/TelegramBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.TelegramBatched/TelegramLoggerConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinAppBatched/Ray.Serilog.Sinks.WorkWeiXinAppBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinAppBatched/WorkWeiXinAppApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinAppBatched/WorkWeiXinAppBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinAppBatched/WorkWeiXinAppConfigurationExtensions.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinAppBatched/WorkWeiXinAppTokenResponse.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinBatched/Ray.Serilog.Sinks.WorkWeiXinBatched.csproj
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinBatched/WorkWeiXinApiClient.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinBatched/WorkWeiXinBatchedSink.cs
 delete mode 100644 src/Ray.Serilog.Sinks/Ray.Serilog.Sinks.WorkWeiXinBatched/WorkWeiXinLoggerConfigurationExtensions.cs
 create mode 100644 test/DomainServiceTest/VideoDomainServiceTest.cs
 create mode 100644 test/DomainServiceTest/WbiDomainServiceTest.cs
 create mode 100644 test/InfrastructureTest/InfrastructureTest.csproj
 create mode 100644 test/InfrastructureTest/Usings.cs
 create mode 100644 test/InfrastructureTest/WbiHelperTest.cs

更新/ql/repo/RayWangQvQ_BiliBiliToolPro成功...


## 执行结束... 2023-05-28 02:03:55  耗时 5 秒
